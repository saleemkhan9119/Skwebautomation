<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SK Master AI | The Central Brain</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav class="glass-nav">
        <div class="logo">SK Automation <span class="badge">PRO</span></div>
        <button id="activate-btn" class="btn-glow">Launch Sofia <i class="fa-solid fa-sparkles"></i></button>
    </nav>

    <header class="hero-section">
        <div class="glow-effect"></div>
        <div class="hero-content">
            <span class="pill">MASTER AGENT ACTIVE</span>
            <h1>One Brain. <br>Infinite Possibilities.</h1>
            <p>Meet <strong>Sofia</strong>, your Master AI Agent. She doesn't just chat; she orchestrates your entire business automation, manages sub-agents, and executes complex workflows instantly.</p>
        </div>
    </header>

    <section class="master-features">
        <h2>Master Agent Capabilities</h2>
        <div class="grid">
            <div class="feature-card">
                <i class="fa-solid fa-network-wired"></i>
                <h3>Central Orchestration</h3>
                <p>Sofia controls all other sub-agents (Sales, Support, HR) from a single command center.</p>
            </div>
            <div class="feature-card">
                <i class="fa-solid fa-bolt"></i>
                <h3>Instant Execution</h3>
                <p>Real-time task processing with 0.1s latency. No waiting.</p>
            </div>
            <div class="feature-card">
                <i class="fa-solid fa-database"></i>
                <h3>Deep Context Memory</h3>
                <p>Remembers every interaction, client detail, and preference forever.</p>
            </div>
            <div class="feature-card">
                <i class="fa-solid fa-robot"></i>
                <h3>Self-Correction</h3>
                <p>Automatically detects errors in workflows and fixes them without human help.</p>
            </div>
        </div>
    </section>

    <div id="chat-interface" class="chat-container hidden">
        <div class="chat-header">
            <div class="agent-info">
                <div class="avatar">
                    <img src="https://cdn-icons-png.flaticon.com/512/4712/4712035.png" alt="Sofia">
                    <div class="status-dot"></div>
                </div>
                <div>
                    <h4>Sofia (Master AI)</h4>
                    <span class="status-text">Online & Ready</span>
                </div>
            </div>
            <button id="close-chat"><i class="fa-solid fa-minus"></i></button>
        </div>
        
        <div id="chat-history" class="chat-body">
            </div>

        <div class="chat-footer">
            <div class="quick-actions">
                <button onclick="quickReply('Check System Status')">System Status</button>
                <button onclick="quickReply('Show Pricing')">Pricing</button>
            </div>
            <div class="input-group">
                <input type="text" id="user-input" placeholder="Ask Sofia anything...">
                <button id="send-btn"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
<div id="chat-widget" style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;">
  <button onclick="toggleChat()" style="background: #25D366; color: white; border: none; padding: 15px; border-radius: 50%; font-size: 24px; cursor: pointer; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">üí¨</button>
</div>

<div id="chat-box" style="display: none; position: fixed; bottom: 80px; right: 20px; width: 300px; height: 400px; background: white; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.3); flex-direction: column; overflow: hidden; z-index: 9999;">
  <div style="background: #075e54; color: white; padding: 10px; font-weight: bold;">Lotus AI Assistant</div>
  <div id="messages" style="flex: 1; padding: 10px; overflow-y: auto; background: #f0f0f0; display: flex; flex-direction: column; gap: 8px;"></div>
  <div style="display: flex; padding: 5px; border-top: 1px solid #ddd;">
    <input type="text" id="userInput" placeholder="Ask about Hotel Lotus..." style="flex: 1; padding: 8px; border: none; outline: none;">
    <button onclick="sendMessage()" style="background: #128c7e; color: white; border: none; padding: 8px 15px; cursor: pointer;">‚û§</button>
  </div>
</div>

<script>
  // ‡§Ö‡§™‡§®‡§æ Webhook URL ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á‡§Ç üëá
  const WEBHOOK_URL = "https://sallu1196.app.n8n.cloud/webhook/sofia-chat"

  function toggleChat() {
    const box = document.getElementById('chat-box');
    box.style.display = box.style.display === 'none' ? 'flex' : 'none';
  }

  async function sendMessage() {
    const input = document.getElementById('userInput');
    const text = input.value;
    if (!text) return;

    addMessage(text, 'user');
    input.value = '';
    
    // AI ‡§ï‡•ã ‡§≠‡•á‡§ú ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...
    addMessage("Typing...", 'ai-temp');

    try {
      const response = await fetch(WEBHOOK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text }) // ‡§π‡§Æ message ‡§≠‡•á‡§ú ‡§∞‡§π‡•á ‡§π‡•à‡§Ç
      });
      const data = await response.json();
      
      removeTemp();
      addMessage(data.reply, 'ai'); // ‡§ú‡§µ‡§æ‡§¨ ‡§Ü ‡§ó‡§Ø‡§æ!
      
    } catch (error) {
      removeTemp();
      addMessage("Error: Could not connect to AI", 'ai');
    }
  }

  function addMessage(text, sender) {
    const div = document.createElement('div');
    div.style.padding = "8px 12px";
    div.style.borderRadius = "8px";
    div.style.maxWidth = "80%";
    div.style.fontSize = "14px";
    
    if (sender === 'user') {
      div.style.alignSelf = "flex-end";
      div.style.background = "#dcf8c6";
    } else {
      div.style.alignSelf = "flex-start";
      div.style.background = "white";
    }
    
    div.innerText = text;
    if(sender === 'ai-temp') div.id = "temp-msg";
    document.getElementById('messages').appendChild(div);
    document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight;
  }

  function removeTemp() {
    const temp = document.getElementById('temp-msg');
    if(temp) temp.remove();
  }
</script>
    
</body>
</html>
